import{GameMode as b,system as I,world as d}from"@minecraft/server";function g(e){var t=0;let n=d.getAllPlayers().length;if(t=d.getDimension(e).getEntities({minDistance:0,excludeGameModes:[b.creative,b.spectator]}).length,t/n>.5)for(let o of d.getDimension("overworld").getEntities({minDistance:0,type:"entity:terminator"}))o.triggerEvent("terminator:find_portal_to_"+e)}I.runInterval(()=>{g("overworld"),g("nether"),g("the_end")});import{world as f}from"@minecraft/server";function N(e){let t=[0];for(let o of f.getDimension("overworld").getEntities())if(o.id===e&&o.nameTag.split(" ")[0]=="Terminator"&&o.nameTag.split(" ")[1]!=null){let r=Number(o.nameTag.split(" ")[1].split("").slice(1,-1).join(""));t.push(r)}var n=Math.max(...t);return n}f.afterEvents.entitySpawn.subscribe(e=>{if(e.entity.typeId==="entity:terminator"){let n="Terminator";var t=f.getDimension("overworld").getEntities({type:"entity:terminator"}).length;t>1?e.entity.nameTag=`${n} (${N("entity:terminator")+1})`:e.entity.nameTag=`${n}`}});import{system as M,world as O}from"@minecraft/server";var p=O.getDimension("overworld");M.runInterval(()=>{let e=new Date,t=parseInt(("0"+e.getDate()).slice(-2)),n=parseInt(("0"+(e.getMonth()+1)).slice(-2));if(n==12&&19<=t&&t<=31||n==1&&1<=t&&t<=8)for(let o of p.getEntities({type:"entity:terminator"}))o.triggerEvent("terminator:christmas_skin");else for(let o of p.getEntities({type:"entity:terminator"}))o.triggerEvent("terminator:default_skin")});import{world as m,system as P,Player as C}from"@minecraft/server";import{ModalFormData as R}from"@minecraft/server-ui";import{system as _}from"@minecraft/server";Object.keys||(Object.keys=function(){"use strict";var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],o=n.length;return function(r){if(typeof r!="function"&&(typeof r!="object"||r===null))throw new TypeError("Object.keys called on non-object");var i=[],a,s;for(a in r)e.call(r,a)&&i.push(a);if(t)for(s=0;s<o;s++)e.call(r,n[s])&&i.push(n[s]);return i}}());function v(e){let t=e.dimension.spawnEntity("entity:terminator",e.coords);_.runTimeout(()=>{t.nameTag=e.nametag,e.customskin==!0&&t.triggerEvent("terminator:enable_custom_skin"),e.bossbar==!0&&t.triggerEvent("terminator:enable_bossbar"),e.deathevent==!1&&t.triggerEvent("terminator:disable_respawn_event"),e.invulnerable==!0&&t.triggerEvent("terminator:enable_invulnerable"),e.physics==!1&&t.triggerEvent("terminator:disable_physics"),e.breedable==!0&&t.triggerEvent("breedable:true"),e.regeneration==!1&&t.triggerEvent("terminator:disable_regeneration"),e.respawn==!1&&t.triggerEvent("terminator:disable_respawn"),e.skinmodel=="alex"&&t.triggerEvent("terminator:enable_customSlim_skin"),console.log("User input: "+JSON.stringify(e,null,2))},2)}function j(e){let t=0,n=0;switch(e.dimension.id){case"minecraft:overworld":t=0;break;case"minecraft:nether":t=1;break;case"minecraft:the_end":t=2;break}switch(e.skinmodel){case"steve":n=0;break;case"alex":n=1;break}return new R().title("Spawn Terminator").textField("Name Tag","Terminator","Terminator").textField("Spawn Coordinates","x y z","~ ~ ~").dropdown("Dimension",["Overworld","Nether","The End"],t).dropdown("Skin Model",["Steve","Alex"],n).toggle("Enable Custom Skin",e.customskin).toggle("Enable Bossbar",e.bossbar).toggle("Enable Immunity",e.invulnerable).toggle("Enable Death Event",e.deathevent).toggle("Enable Physics",e.physics).toggle("Enable Regeneration",e.regeneration).toggle("Enable Respawn",e.respawn).toggle("Enable Breedability",e.breedable)}function z(e,t){let n=e.split(" "),o={x:0,y:0,z:0};for(let r=0;r<3;r++){let i=["x","y","z"][r];if(n[r].startsWith("~")){let a=parseFloat(n[r].replace("~",""));o[i]=(Number.isNaN(a)?0:a)+t[i]}else o[i]=parseFloat(n[r])}return o}P.afterEvents.scriptEventReceive.subscribe(({id:e,sourceEntity:t})=>{if(e=="terminator:spawn"&&t instanceof C){let n={nametag:"Terminator",customskin:!1,bossbar:!1,invulnerable:!1,deathevent:!0,physics:!0,regeneration:!0,respawn:!0,breedable:!1,coords:t.location,dimension:t.dimension,skinmodel:"steve"};j(n).show(t).then(r=>{if(r.canceled)return;let[i,a,s,y,u,h,w,E,k,x,T,D]=r.formValues,l=m.getDimension("overworld"),c="steve";switch(s){case 0:l=m.getDimension("overworld");break;case 1:l=m.getDimension("nether");break;case 2:l=m.getDimension("the_end");break}switch(y){case 0:c="steve";break;case 1:c="alex";break}let S={nametag:i,customskin:u,bossbar:h,invulnerable:w,deathevent:E,physics:k,regeneration:x,respawn:T,breedable:D,coords:z(a,t.location),dimension:l,skinmodel:c};v(S)}).catch(r=>console.error(r+`
`+r.stack))}},{namespaces:["terminator"]});
